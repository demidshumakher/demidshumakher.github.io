# Билет 43. Доказательство явной формулы для чисел Каталана при помощи триангуляций.

[Теорема](ticketP5_42.md#t42_1)

### Следствие 1

$c_n = \frac{n+2}{2(n-1)}\sum^{n-1}_{k=1}c_kc_{n-k}$, при $n \ge 2$

>##### Доказательство {collapsible="true"}
> Рассмотрим триангуляцию выпуклого (n + 2)-угольника.
>- Вместо того чтобы нумеровать его вершины, будет считать, что в (n + 2)-угольнике есть выделенная сторона.
   >   - Тогда нумерация вершин задается однозначно.
>- Выберем диагональ триангуляции и направление на ней.
   >   - Это можно сделать 2(n − 1) способами.
>- Итого, получили $2(n − 1)c_n$ триангуляций с отмеченной ориентированной диагональю.
   > Далее, мы посчитаем их количество другим способом
>- Рассмотрим упорядоченную пару из триангуляций выпуклых (k + 2)-угольника и (n − k + 2)-угольника, где $k \in [1..n − 1]$
   >   - Таких пар $\sum^{n-1}_{i=1}c_ic_{n-i}$
>   - В каждом многоугольнике рассмотренной пары есть выделенная сторона.
>- Склеим получившиеся многоугольники по их выделенным сторонам.
   >   - Получим триангуляцию (n + 2)-угольника
>   - Отметим в ней диагональ, по которой произошла склейка.
>   - Направление выберем так, чтобы первый многоугольник был слева
>- Осталось выделить одну из сторон полученного (n + 2)-угольника
   >   - Это можно сделать n + 2 способами.
>- Итого, получаем $(n + 2)\sum^{n-1}_{k=1}c_kc_{n-k}$ триангуляций с отмеченной ориентированной диагональю.
>- Следовательно, $2(n-1)c_n = (n+2)\sum_{k=1}^{n-1}c_kc_{n-k}$

### Следствие 2

$c_{n+1}=\frac{2(2n+1}{n+2}c_n$, при $n \ge 0$

>##### Доказательство {collapsible="true"}
> При n = 0 и n = 1 очевидно
>- При $n \ge 2$:
>$c_{n+1}= c_0c_n + c_1c_{n-1} + \dotsc + c_{n-1}c_1 + c_nc_0$  
>$c_n = \frac{n+2}{2(n-1)}(c_1c_{n-1} + \dotsc) + c_{n-1}c_1$
>- Следовательно
> $c_{n+1} = 2c_n + \frac{2(n-1)}{n+2}c_n = \frac{2(2n+1)}{n+2}c_n$

### Следствие 3

$c_n = \frac{2^n(2n-1)!!}{(n+1)!} = \frac{C_{2n}^n}{n+1}$, при n > 0

>##### Доказательство {collapsible="true"}
> Равенство $c_n = \frac{2^n(2n-1)!!}{(n+1)!}$ доказывается индукцией по n  
> n = 1: очев  
> $n \to n + 1$:  
> $c_{n+1} = \frac{2(2n+1)}{n+2}c_n =$
> $\frac{2(2n+1)}{n+2} \cdot \frac{2^n(2n-1)!!}{(n+1)!} = $
> $\frac{2^n(2n-1)!!}{(n+1)!}$
>- Далее  
>$\frac{2^n(2n-1)!!}{(n+1)!} = \frac{2^nn!(2n-1)!!}{n!(n+1)!} =$
>$\frac{(2n)!!(2n-1)!!}{n!(n+1)!} = \frac{(2n)!}{n!(n+1)!} = $
>$\frac{C^n_{2n}}{n+1}$
